<section class="login-section">
    <a routerLink="/Login-LittleFalls" class="btn-regresar">
        <i class="fa-solid fa-arrow-left"></i> Volver al Login
    </a>
    <form class="login-form" (submit)="$event.preventDefault(); restablecerPassword()">
        <h2>Nueva Contraseña</h2>
        <p>Ingrese su nueva contraseña para completar la recuperación.</p>
        
        <div class="mb-3">
            <label for="inputPassword" class="form-label">Nueva Contraseña:</label>
            <div class="password-container">
                <input 
                    [type]="showPassword ? 'text' : 'password'" 
                    id="inputPassword" 
                    class="form-control" 
                    [(ngModel)]="nuevaPassword"
                    name="nuevaPassword"
                    placeholder="Mínimo 6 caracteres" 
                    required>
                <button 
                    type="button" 
                    class="btn-toggle-password"
                    tabindex="-1"
                    (click)="togglePassword($event)" 
                    aria-label="Mostrar contraseña">
                    <i [class]="showPassword ? 'fa-solid fa-eye-slash' : 'fa-solid fa-eye'"></i>
                </button>
            </div>
            <div class="field-error" *ngIf="mostrarErrores && errorNueva">{{ errorNueva }}</div>
            <small class="form-text">Debe contener al menos una letra y un número</small>
        </div>

        <div class="mb-3">
            <label for="inputConfirmPassword" class="form-label">Confirmar Contraseña:</label>
            <div class="password-container">
                <input 
                    [type]="showConfirmPassword ? 'text' : 'password'" 
                    id="inputConfirmPassword" 
                    class="form-control" 
                    [(ngModel)]="confirmarPassword"
                    name="confirmarPassword"
                    placeholder="Repite la contraseña" 
                    required>
                <button 
                    type="button" 
                    class="btn-toggle-password"
                    tabindex="-1"
                    (click)="toggleConfirmPassword($event)" 
                    aria-label="Mostrar contraseña">
                    <i [class]="showConfirmPassword ? 'fa-solid fa-eye-slash' : 'fa-solid fa-eye'"></i>
                </button>
            </div>
            <div class="field-error" *ngIf="mostrarErrores && errorConfirm">{{ errorConfirm }}</div>
        </div>

        <button 
            type="submit" 
            class="btn btn-primary"
            [disabled]="cargando">
            <span *ngIf="!cargando">
                <i class="fa-solid fa-check"></i> Restablecer Contraseña
            </span>
            <span *ngIf="cargando">
                <i class="fa-solid fa-spinner fa-spin"></i> Procesando...
            </span>
        </button>
        <div *ngIf="mostrarErrores && errorGeneral" class="general-error">{{ errorGeneral }}</div>
        <div *ngIf="successMessage" class="general-success">{{ successMessage }}</div>
        <div class="login-links">
    </div>
    </form>
</section>
<app-pie-pagina></app-pie-pagina>